<!DOCTYPE html>
<html dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>ثبت‌نام</title>
    <link rel="stylesheet" href="/css/style.css">
    <style>
        .error-message {
            color: red;
            margin-bottom: 15px;
        }
    </style>
</head>
<body>
    <div class="register-container">
        <h2>ثبت‌نام در سیستم</h2>
        <% if (locals.error) { %>
            <div class="error-message"><%= error %></div>
        <% } %>
        <form action="/register" method="POST" id="registerForm">
            <div class="form-group">
                <label for="username">نام کاربری:</label>
                <input type="text" id="username" name="username" required>
            </div>
            <div class="form-group">
                <label for="email">ایمیل:</label>
                <input type="email" id="email" name="email" required>
            </div>
            <div class="form-group">
                <label for="password">رمز عبور:</label>
                <input type="password" id="password" name="password" required>
            </div>
            <div class="form-group">
                <label for="confirmPassword">تکرار رمز عبور:</label>
                <input type="password" id="confirmPassword" name="confirmPassword" required>
            </div>
            <div id="passwordError" class="error-message" style="display:none;">
                رمزهای عبور مطابقت ندارند
            </div>
            <button type="submit">ثبت‌نام</button>
        </form>
        <p>قبلاً ثبت‌نام کرده‌اید؟ <a href="/login">وارد شوید</a></p>
    </div>

    <script>
    document.getElementById('registerForm').addEventListener('submit', function(event) {
        const password = document.getElementById('password').value;
        const confirmPassword = document.getElementById('confirmPassword').value;
        const passwordError = document.getElementById('passwordError');

        if (password !== confirmPassword) {
            event.preventDefault(); // جلوگیری از ارسال فرم
            passwordError.style.display = 'block';
        } else {
            passwordError.style.display = 'none';
        }
    });
    </script>
</body>
</html>